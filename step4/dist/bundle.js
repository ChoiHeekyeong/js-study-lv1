(()=>{const e=({id:e,content:t,highlight:n,isComplete:i,selected:o})=>`\n        <li>\n            ${1==o?`\n                <form name="modifierForm" action="" id="${e}">\n                    <fieldset>\n                        <legend hidden>아이템 수정</legend>\n                        <label>\n                            <span hidden>아이템 수정</span>\n                            <input type="text" value="${t}" size="40">\n                        </label>\n                            <button type="submit">완료</button>\n                            <button type="button" class="cancel">취소</button>\n                    </fieldset>\n                </form>   \n        `:`\n                <p ${n?'style="color:#09F"':""} ${i?'class="finish"':""}>\n                    <input type="checkbox" id="${e}" ${n?" checked":""}>\n                    ${t}\n                </p>\n                <button type="button" class="complete" id="${e}">완료</button>\n                <button type="button" class="modify" id="${e}">수정</button>\n                <button type="button" class="delete" id="${e}">삭제</button>\n            `}\n        </li>\n    `,t=async(e,t,n)=>await fetch(e,{method:t,headers:{"Content-Type":"Application/json"},body:JSON.stringify(n)}),n=async function(){const n=document.querySelector("#app");await t("/api/items","GET").then((e=>e.json())).then((t=>{n.innerHTML=(t=>`\n    <h1>📃 TodoList</h1>\n        <form name="appenderForm" action="" method="post">\n          <fieldset>\n            <legend hidden>TodoList Form</legend>\n            <label>\n              <span hidden>아이템 추가</span>\n              <input type="text" size="40" placeholder="Todo Item 내용을 입력해주세요">\n            </label>\n            <button type="submit">전송</button>\n          </fieldset>\n        </form>\n    <ul>\n        ${void 0!==t?t.map(e).join(""):""}\n    </ul>\n  `)(t),function(){const e=document.querySelector('form[name="appenderForm"]'),t=document.querySelectorAll(".delete"),n=document.querySelectorAll(".modify"),l=document.querySelectorAll(".complete"),d=document.querySelectorAll('input[type="checkbox"]');e.addEventListener("submit",i.bind(e)),t.forEach((function(e){e.addEventListener("click",o)})),n.forEach((function(e){e.addEventListener("click",c)})),l.forEach((function(e){e.addEventListener("click",u)})),d.forEach((function(e){e.addEventListener("change",a)}))}()}))},i=function(e){e.preventDefault();const i=this.querySelector("input");if(0===i.value.trim().length)return i.value="",alert("아이템 이름을 입력해주세요!");t("/api/items","POST",{content:i.value,highlight:!1,isComplete:!1,selected:!1}).then(n)},o=function(e){const i=e.target;t("/api/items","DELETE",{id:i.id}).then(n)},c=function(e){const i=e.target;t("/api/items/"+i.id,"PUT").then((()=>{n().then((()=>{const e=document.querySelector('form[name="modifierForm"]');e.addEventListener("submit",l.bind(e)),e.querySelector(".cancel").addEventListener("click",d.bind(null,i.id)),e.onkeydown=function(e){27==e.keyCode&&d(i.id)}}))}))},l=function(e){e.preventDefault();const n=this.querySelector("input"),i=n.value.trim();if(0===i.length)return n.value="",alert("아이템 이름을 입력해주세요!");t("/api/items","PUT",{id:this.id,content:i}).then((()=>d(this.id)))},d=function(e){t("/api/items/"+e,"PUT").then(n)},u=function(e){const i=e.target;t("/api/items/complete/"+i.id,"PUT").then(n)},a=function(e){const i=e.target;t("/api/items/toggle/"+i.id,"PUT").then(n)};n()})();